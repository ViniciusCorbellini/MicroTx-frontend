/*
============================================
| üöÄ GLOBAL.CSS para Arquitetura Micro-Frontend (MFE)
| Foco: Design Tokens (Vari√°veis), Reset e Padr√µes de Acessibilidade.
============================================
*/

/* --------------------------------------------
| Se√ß√£o 1: Reset Moderno e Box-Sizing
--------------------------------------------
| Usamos :where() para manter a especificidade baixa,
| evitando que o global.css sobrescreva estilos dos MFEs.
*/

:where(*, *::before, *::after) {
  box-sizing: border-box;
}

:where(body) {
  margin: 0;
  /* Melhora a renderiza√ß√£o de fontes */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Removemos estilos de lista padr√£o para listas sem√¢nticas */
:where(ul[role='list'], ol[role='list']) {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Imagens responsivas por padr√£o */
:where(img, picture, video, canvas, svg) {
  display: block;
  max-width: 100%;
}

/* Permite quebra de palavra em t√≠tulos e par√°grafos */
:where(p, h1, h2, h3, h4, h5, h6) {
  overflow-wrap: break-word;
}

/*
--------------------------------------------
| Se√ß√£o 2: Design Tokens (Vari√°veis CSS)
--------------------------------------------
| Os mfes devem consumir estas vari√°veis.
*/

:root {
  /* ### Paleta de Cores Sem√¢ntica */
  --clr-primary-400: #3b82f6; /* Azul (ex: bot√µes, links) */
  --clr-primary-500: #2563eb;
  --clr-primary-100: #dbeafe;
  
  --clr-secondary-400: #10b981; /* Verde (ex: sucesso) */

  --clr-neutral-100: #ffffff; /* Branco */
  --clr-neutral-200: #f4f4f5; /* Fundo de 'cards' */
  --clr-neutral-300: #e4e4e7; /* Bordas */
  --clr-neutral-700: #3f3f46; /* Texto secund√°rio */
  --clr-neutral-900: #18181b; /* Texto principal */

  /* Cores de "Superf√≠cie" (Fundo) e "Texto" */
  --clr-surface: var(--clr-neutral-100);
  --clr-text-primary: var(--clr-neutral-900);
  --clr-text-secondary: var(--clr-neutral-700);
  --clr-border: var(--clr-neutral-300);

  /* ### Tipografia */
  --font-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --font-headings: var(--font-primary); /* Pode ser uma fonte diferente */

  /* ### Tipografia Fluida (Escala) */
  /* Ajusta o tamanho da fonte com base na tela */
  --fs-300: clamp(0.94rem, 0.92rem + 0.11vi, 1.00rem);
  --fs-400: clamp(1.13rem, 1.08rem + 0.22vi, 1.25rem); /* Base */
  --fs-500: clamp(1.35rem, 1.28rem + 0.37vi, 1.56rem);
  --fs-600: clamp(1.62rem, 1.50rem + 0.58vi, 1.95rem);
  --fs-700: clamp(1.94rem, 1.77rem + 0.87vi, 2.44rem);
  --fs-800: clamp(2.33rem, 2.09rem + 1.22vi, 3.05rem); /* T√≠tulos */

  --line-height-body: 1.6;
  --line-height-heading: 1.2;

  /* ### Espa√ßamento Fluido */
  --space-xs: clamp(0.50rem, 0.48rem + 0.11vi, 0.56rem);
  --space-s: clamp(0.75rem, 0.71rem + 0.22vi, 0.88rem);
  --space-m: clamp(1.13rem, 1.08rem + 0.22vi, 1.25rem);
  --space-l: clamp(1.69rem, 1.62rem + 0.33vi, 1.88rem);
  --space-xl: clamp(2.53rem, 2.43rem + 0.49vi, 2.81rem);

  /* ### Layout */
  --container-max-width: 1200px;
  --container-padding-inline: var(--space-m); /* Padding lateral */
  
  /* ### Outros */
  --border-radius-small: 4px;
  --border-radius-medium: 8px;
  --shadow-small: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-medium: 0 4px 6px -1px rgb(0 0 0 / 0.1),
    0 2px 4px -2px rgb(0 0 0 / 0.1);
}

/*
--------------------------------------------
| Se√ß√£o 3: Suporte a Modo Escuro (Dark Mode)
--------------------------------------------
| Redefine as vari√°veis de cor com base na prefer√™ncia do SO.
*/

@media (prefers-color-scheme: dark) {
  :root {
    /* Invertemos as cores de superf√≠cie e texto */
    --clr-surface: var(--clr-neutral-900);
    --clr-text-primary: var(--clr-neutral-100);
    --clr-text-secondary: var(--clr-neutral-300);
    --clr-border: var(--clr-neutral-700);

    /* Ajustamos cores de 'card' e bordas */
    --clr-neutral-200: #27272a; /* Fundo de 'cards' escuro */
    --clr-neutral-300: #3f3f46; /* Bordas escuras */
    --clr-danger-400: #ef4444; /* Vermelho (ex: erros) */
    --clr-danger-100: #fee2e2;
  }
}

/*
--------------------------------------------
| Se√ß√£o 4: Estilos Globais Base (Aplicando Vari√°veis)
--------------------------------------------
*/

body {
  font-family: var(--font-primary);
  font-size: var(--fs-400); /* Tamanho de fonte base fluido */
  line-height: var(--line-height-body);
  color: var(--clr-text-primary);
  background-color: var(--clr-surface);
}

/* Estilos de T√≠tulo Padr√£o */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-headings);
  font-weight: 700;
  line-height: var(--line-height-heading);
  /* Reset de margem para espa√ßamento controlado */
  margin-block-end: var(--space-m);
}

h1 { font-size: var(--fs-800); }
h2 { font-size: var(--fs-700); }
h3 { font-size: var(--fs-600); }
h4 { font-size: var(--fs-500); }

/* Estilos de Link Padr√£o */
a {
  color: var(--clr-primary-500);
  text-decoration: none;
  transition: color 0.2s ease;
}
a:hover {
  color: var(--clr-primary-400);
  text-decoration: underline;
}

/*
--------------------------------------------
| Se√ß√£o 5: Foco em Acessibilidade
--------------------------------------------
*/

/* 1. Remove anima√ß√µes para quem prefere movimento reduzido */
@media (prefers-reduced-motion: reduce) {
  :where(*, *::before, *::after) {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* 2. Estilo de Foco Vis√≠vel Moderno (melhor que o outline padr√£o) */
:focus-visible {
  outline: 3px solid var(--clr-primary-400);
  outline-offset: 3px;
  border-radius: var(--border-radius-small);
}

/*
--------------------------------------------
| Se√ß√£o 6: Classes Utilit√°rias Globais (Opcional)
--------------------------------------------
*/

/* Classe para centralizar conte√∫do */
.container {
  width: min(100% - (var(--container-padding-inline) * 2), var(--container-max-width));
  margin-inline: auto; /* 'margin-left' e 'margin-right' autom√°tico */
}

/* Classe para esconder conte√∫do visualmente, mas mant√™-lo para leitores de tela */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}